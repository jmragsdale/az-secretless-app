<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 1200 800"
   width="1200"
   height="800"
   version="1.1"
   id="svg43"
   sodipodi:docname="secretless-architecture.svg"
   inkscape:version="1.4.2 (ebf0e940, 2025-05-08)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview43"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="1.3716833"
     inkscape:cx="571.19599"
     inkscape:cy="358.31886"
     inkscape:window-width="1728"
     inkscape:window-height="1056"
     inkscape:window-x="0"
     inkscape:window-y="61"
     inkscape:window-maximized="0"
     inkscape:current-layer="svg43" />
  <!-- Define styles -->
  <defs
     id="defs1">
    <style
       id="style1">
      .box { fill: #fff; stroke: #000; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 12px; fill: #000; }
      .title-text { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #000; }
      .header { font-family: Arial, sans-serif; font-size: 20px; font-weight: bold; fill: #000; }
      .line { stroke: #000; stroke-width: 2; fill: none; }
      .arrow { fill: #000; }
      .step-text { font-family: Arial, sans-serif; font-size: 12px; fill: #000; font-style: italic; }
    </style>
    <!-- Arrow marker -->
    <marker
       id="arrowhead"
       markerWidth="10"
       markerHeight="10"
       refX="9"
       refY="3"
       orient="auto">
      <polygon
         points="0 0, 10 3, 0 6"
         class="arrow"
         id="polygon1" />
    </marker>
  </defs>
  <!-- Title -->
  <text
     x="600"
     y="40"
     text-anchor="middle"
     class="header"
     id="text1">Azure Secretless Application Architecture</text>
  <text
     x="600"
     y="65"
     text-anchor="middle"
     style="font-size: 14px; fill: #666;"
     id="text2">Zero-Trust with Managed Identity and Key Vault</text>
  <!-- Step 1: Azure App Service -->
  <rect
     x="100"
     y="120"
     width="280"
     height="180"
     class="box"
     rx="5"
     id="rect2" />
  <text
     x="240"
     y="141"
     text-anchor="middle"
     class="title-text"
     id="text3">Azure App Service</text>
  <!-- Managed Identity -->
  <rect
     x="130"
     y="200"
     width="220"
     height="80"
     class="box"
     rx="3"
     id="rect4" />
  <text
     x="240"
     y="225"
     text-anchor="middle"
     class="title-text"
     id="text5">Managed Identity</text>
  <text
     x="240"
     y="245"
     text-anchor="middle"
     style="font-size: 11px;"
     id="text6">System-Assigned or User-Assigned</text>
  <text
     x="240"
     y="265"
     text-anchor="middle"
     style="font-size: 10px;"
     id="text7">✓ No credentials stored</text>
  <!-- Step 2: Azure AD -->
  <rect
     x="460"
     y="120"
     width="280"
     height="180"
     class="box"
     rx="5"
     id="rect7" />
  <text
     x="600"
     y="141"
     text-anchor="middle"
     class="title-text"
     id="text8">Azure Active Directory</text>
  <text
     x="600"
     y="210"
     text-anchor="middle"
     style="font-size: 11px;"
     id="text10">• Validates managed identity</text>
  <text
     x="600"
     y="230"
     text-anchor="middle"
     style="font-size: 11px;"
     id="text11">• Issues OAuth 2.0 tokens</text>
  <text
     x="600"
     y="250"
     text-anchor="middle"
     style="font-size: 11px;"
     id="text12">• No credentials required</text>
  <text
     x="600"
     y="270"
     text-anchor="middle"
     style="font-size: 11px;"
     id="text13">• Automatic token refresh</text>
  <!-- Step 3: Azure Key Vault -->
  <rect
     x="820"
     y="120"
     width="280"
     height="180"
     class="box"
     rx="5"
     id="rect13" />
  <text
     x="960"
     y="141"
     text-anchor="middle"
     class="title-text"
     id="text14">Azure Key Vault</text>
  <text
     x="960"
     y="210"
     text-anchor="middle"
     style="font-size: 11px;"
     id="text16">• Database passwords</text>
  <text
     x="960"
     y="230"
     text-anchor="middle"
     style="font-size: 11px;"
     id="text17">• API keys</text>
  <text
     x="960"
     y="250"
     text-anchor="middle"
     style="font-size: 11px;"
     id="text18">• Connection strings</text>
  <text
     x="960"
     y="270"
     text-anchor="middle"
     style="font-size: 11px;"
     id="text19">• Certificates</text>
  <!-- Flow Step 1: App to Azure AD -->
  <line
     x1="380"
     y1="208"
     x2="460"
     y2="208"
     class="line"
     marker-end="url(#arrowhead)"
     id="line19" />
  <text
     x="420"
     y="188"
     text-anchor="middle"
     class="step-text"
     id="text20">Step 1:</text>
  <text
     x="420"
     y="201"
     text-anchor="middle"
     class="step-text"
     id="text21">Request token</text>
  <!-- Flow Step 2: Azure AD returns token -->
  <line
     x1="460"
     y1="262"
     x2="380"
     y2="262"
     class="line"
     marker-end="url(#arrowhead)"
     id="line21" />
  <text
     x="420"
     y="275"
     text-anchor="middle"
     class="step-text"
     id="text22">Step 2:</text>
  <text
     x="420"
     y="286"
     text-anchor="middle"
     class="step-text"
     id="text23">Return token</text>
  <!-- Flow Step 3: App to Key Vault with token -->
  <line
     x1="380"
     y1="160"
     x2="820"
     y2="160"
     class="line"
     marker-end="url(#arrowhead)"
     id="line23" />
  <text
     x="600"
     y="173"
     text-anchor="middle"
     class="step-text"
     id="text24">Step 3: Access Key Vault with token</text>
  <!-- Flow Step 4: Key Vault returns secrets -->
  <line
     x1="820"
     y1="236"
     x2="380"
     y2="236"
     class="line"
     marker-end="url(#arrowhead)"
     id="line24" />
  <text
     x="600"
     y="330"
     text-anchor="middle"
     class="step-text"
     id="text25">Step 4: Return secrets at runtime</text>
  <!-- Key Features -->
  <rect
     x="100"
     y="370"
     width="1000"
     height="140"
     class="box"
     rx="5"
     id="rect25" />
  <text
     x="600"
     y="405"
     text-anchor="middle"
     class="title-text"
     id="text26">Zero-Trust Security Features</text>
  <text
     x="120"
     y="440"
     class="text"
     style="font-size: 12px;"
     id="text27">✓ <tspan
   font-weight="bold"
   id="tspan26">No Hardcoded Secrets:</tspan> No credentials in code or config files</text>
  <text
     x="120"
     y="465"
     class="text"
     style="font-size: 12px;"
     id="text28">✓ <tspan
   font-weight="bold"
   id="tspan27">Token-Based Access:</tspan> OAuth 2.0 tokens eliminate credential theft</text>
  <text
     x="120"
     y="490"
     class="text"
     style="font-size: 12px;"
     id="text29">✓ <tspan
   font-weight="bold"
   id="tspan28">Automatic Rotation:</tspan> Secrets rotated without application changes</text>
  <text
     x="620"
     y="440"
     class="text"
     style="font-size: 12px;"
     id="text30">✓ <tspan
   font-weight="bold"
   id="tspan29">Identity-Based Auth:</tspan> Azure AD authentication without secrets</text>
  <text
     x="620"
     y="465"
     class="text"
     style="font-size: 12px;"
     id="text31">✓ <tspan
   font-weight="bold"
   id="tspan30">SOC 2 Compliant:</tspan> Centralized secret management</text>
  <text
     x="620"
     y="490"
     class="text"
     style="font-size: 12px;"
     id="text32">✓ <tspan
   font-weight="bold"
   id="tspan31">Audit Trail:</tspan> Complete access logging for compliance</text>
  <!-- Comparison Table -->
  <rect
     x="100"
     y="540"
     width="1000"
     height="220"
     class="box"
     rx="5"
     id="rect32" />
  <text
     x="600"
     y="575"
     text-anchor="middle"
     class="title-text"
     id="text33">Traditional vs Secretless Approach Comparison</text>
  <!-- Column divider -->
  <line
     x1="600"
     y1="595"
     x2="600"
     y2="750"
     class="line"
     id="line33" />
  <!-- Headers -->
  <text
     x="350"
     y="610"
     text-anchor="middle"
     style="font-size: 14px; font-weight: bold;"
     id="text34">❌ Traditional Approach</text>
  <text
     x="850"
     y="610"
     text-anchor="middle"
     style="font-size: 14px; font-weight: bold;"
     id="text35">✅ Secretless Approach</text>
  <line
     x1="120"
     y1="625"
     x2="1080"
     y2="625"
     class="line"
     id="line35" />
  <!-- Row 1 -->
  <text
     x="130"
     y="655"
     class="text"
     style="font-size: 12px;"
     id="text36">Secrets hardcoded in source code</text>
  <text
     x="620"
     y="655"
     class="text"
     style="font-size: 12px;"
     id="text37">No secrets in code</text>
  <!-- Row 2 -->
  <text
     x="130"
     y="685"
     class="text"
     style="font-size: 12px;"
     id="text38">Connection strings in configuration files</text>
  <text
     x="620"
     y="685"
     class="text"
     style="font-size: 12px;"
     id="text39">Retrieved at runtime from Key Vault</text>
  <!-- Row 3 -->
  <text
     x="130"
     y="715"
     class="text"
     style="font-size: 12px;"
     id="text40">Credentials stored in environment variables</text>
  <text
     x="620"
     y="715"
     class="text"
     style="font-size: 12px;"
     id="text41">Managed Identity tokens only</text>
  <!-- Row 4 -->
  <text
     x="130"
     y="745"
     class="text"
     style="font-size: 12px;"
     id="text42">Manual credential rotation required</text>
  <text
     x="620"
     y="745"
     class="text"
     style="font-size: 12px;"
     id="text43">Automatic secret rotation</text>
</svg>
