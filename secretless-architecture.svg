<svg viewBox="0 0 1200 800" width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <!-- Define styles -->
  <defs>
    <style>
      .box { fill: #fff; stroke: #000; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 12px; fill: #000; }
      .title-text { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #000; }
      .header { font-family: Arial, sans-serif; font-size: 20px; font-weight: bold; fill: #000; }
      .line { stroke: #000; stroke-width: 2; fill: none; }
      .arrow { fill: #000; }
      .step-text { font-family: Arial, sans-serif; font-size: 12px; fill: #000; font-style: italic; }
    </style>
    
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" class="arrow" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" class="header">Azure Secretless Application Architecture</text>
  <text x="600" y="65" text-anchor="middle" style="font-size: 14px; fill: #666;">Zero-Trust with Managed Identity and Key Vault</text>
  
  <!-- Step 1: Azure App Service -->
  <rect x="100" y="120" width="280" height="180" class="box" rx="5"/>
  <text x="240" y="155" text-anchor="middle" class="title-text">Azure App Service</text>
  <text x="240" y="175" text-anchor="middle" style="font-size: 12px;">(Web App / Function App)</text>
  
  <!-- Managed Identity -->
  <rect x="130" y="200" width="220" height="80" class="box" rx="3"/>
  <text x="240" y="225" text-anchor="middle" class="title-text">Managed Identity</text>
  <text x="240" y="245" text-anchor="middle" style="font-size: 11px;">System-Assigned or User-Assigned</text>
  <text x="240" y="265" text-anchor="middle" style="font-size: 10px;">✓ No credentials stored</text>
  
  <!-- Step 2: Azure AD -->
  <rect x="460" y="120" width="280" height="180" class="box" rx="5"/>
  <text x="600" y="155" text-anchor="middle" class="title-text">Azure Active Directory</text>
  <text x="600" y="175" text-anchor="middle" style="font-size: 12px;">Identity Provider</text>
  
  <text x="600" y="210" text-anchor="middle" style="font-size: 11px;">• Validates managed identity</text>
  <text x="600" y="230" text-anchor="middle" style="font-size: 11px;">• Issues OAuth 2.0 tokens</text>
  <text x="600" y="250" text-anchor="middle" style="font-size: 11px;">• No credentials required</text>
  <text x="600" y="270" text-anchor="middle" style="font-size: 11px;">• Automatic token refresh</text>
  
  <!-- Step 3: Azure Key Vault -->
  <rect x="820" y="120" width="280" height="180" class="box" rx="5"/>
  <text x="960" y="155" text-anchor="middle" class="title-text">Azure Key Vault</text>
  <text x="960" y="175" text-anchor="middle" style="font-size: 12px;">Centralized Secret Storage</text>
  
  <text x="960" y="210" text-anchor="middle" style="font-size: 11px;">• Database passwords</text>
  <text x="960" y="230" text-anchor="middle" style="font-size: 11px;">• API keys</text>
  <text x="960" y="250" text-anchor="middle" style="font-size: 11px;">• Connection strings</text>
  <text x="960" y="270" text-anchor="middle" style="font-size: 11px;">• Certificates</text>
  
  <!-- Flow Step 1: App to Azure AD -->
  <line x1="380" y1="210" x2="460" y2="210" class="line" marker-end="url(#arrowhead)"/>
  <text x="420" y="200" text-anchor="middle" class="step-text">Step 1:</text>
  <text x="420" y="235" text-anchor="middle" class="step-text">Request token</text>
  
  <!-- Flow Step 2: Azure AD returns token -->
  <line x1="460" y1="250" x2="380" y2="250" class="line" marker-end="url(#arrowhead)"/>
  <text x="420" y="275" text-anchor="middle" class="step-text">Step 2:</text>
  <text x="420" y="290" text-anchor="middle" class="step-text">Return token</text>
  
  <!-- Flow Step 3: App to Key Vault with token -->
  <line x1="380" y1="160" x2="820" y2="160" class="line" marker-end="url(#arrowhead)"/>
  <text x="600" y="145" text-anchor="middle" class="step-text">Step 3: Access Key Vault with token</text>
  
  <!-- Flow Step 4: Key Vault returns secrets -->
  <line x1="820" y1="240" x2="380" y2="240" class="line" marker-end="url(#arrowhead)"/>
  <text x="600" y="330" text-anchor="middle" class="step-text">Step 4: Return secrets at runtime</text>
  
  <!-- Key Features -->
  <rect x="100" y="370" width="1000" height="140" class="box" rx="5"/>
  <text x="600" y="405" text-anchor="middle" class="title-text">Zero-Trust Security Features</text>
  
  <text x="120" y="440" class="text" style="font-size: 12px;">✓ <tspan font-weight="bold">No Hardcoded Secrets:</tspan> No credentials in code or config files</text>
  <text x="120" y="465" class="text" style="font-size: 12px;">✓ <tspan font-weight="bold">Token-Based Access:</tspan> OAuth 2.0 tokens eliminate credential theft</text>
  <text x="120" y="490" class="text" style="font-size: 12px;">✓ <tspan font-weight="bold">Automatic Rotation:</tspan> Secrets rotated without application changes</text>
  
  <text x="620" y="440" class="text" style="font-size: 12px;">✓ <tspan font-weight="bold">Identity-Based Auth:</tspan> Azure AD authentication without secrets</text>
  <text x="620" y="465" class="text" style="font-size: 12px;">✓ <tspan font-weight="bold">SOC 2 Compliant:</tspan> Centralized secret management</text>
  <text x="620" y="490" class="text" style="font-size: 12px;">✓ <tspan font-weight="bold">Audit Trail:</tspan> Complete access logging for compliance</text>
  
  <!-- Comparison Table -->
  <rect x="100" y="540" width="1000" height="220" class="box" rx="5"/>
  <text x="600" y="575" text-anchor="middle" class="title-text">Traditional vs Secretless Approach Comparison</text>
  
  <!-- Column divider -->
  <line x1="600" y1="595" x2="600" y2="750" class="line"/>
  
  <!-- Headers -->
  <text x="350" y="610" text-anchor="middle" style="font-size: 14px; font-weight: bold;">❌ Traditional Approach</text>
  <text x="850" y="610" text-anchor="middle" style="font-size: 14px; font-weight: bold;">✅ Secretless Approach</text>
  
  <line x1="120" y1="625" x2="1080" y2="625" class="line"/>
  
  <!-- Row 1 -->
  <text x="130" y="655" class="text" style="font-size: 12px;">Secrets hardcoded in source code</text>
  <text x="620" y="655" class="text" style="font-size: 12px;">No secrets in code</text>
  
  <!-- Row 2 -->
  <text x="130" y="685" class="text" style="font-size: 12px;">Connection strings in configuration files</text>
  <text x="620" y="685" class="text" style="font-size: 12px;">Retrieved at runtime from Key Vault</text>
  
  <!-- Row 3 -->
  <text x="130" y="715" class="text" style="font-size: 12px;">Credentials stored in environment variables</text>
  <text x="620" y="715" class="text" style="font-size: 12px;">Managed Identity tokens only</text>
  
  <!-- Row 4 -->
  <text x="130" y="745" class="text" style="font-size: 12px;">Manual credential rotation required</text>
  <text x="620" y="745" class="text" style="font-size: 12px;">Automatic secret rotation</text>
</svg>